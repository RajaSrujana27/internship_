var CaptionClickable;(function(){function i(){for(var i,r=document.querySelectorAll(".b_caption"),u=document.querySelectorAll(".b_imgcap_altitle"),n=0;n<r.length;n++)i=r[n],i&&t(i,!1);for(n=0;n<u.length;n++)i=u[n],i&&t(i,!0)}function r(n){return n.contains("b_lineclamp2")||n.contains("b_lineclamp3")||n.contains("b_lineclamp4")||n.contains("b_lineclamp5")||n.contains("b_lineclamp1")}function u(n){var i,r,t=n.previousElementSibling,u=null;return t&&(u=t.tagName==="H2"||t.tagName==="H3"?t.querySelector("a"):((i=t.querySelector("h2"))===null||i===void 0?void 0:i.querySelector("a"))||((r=t.querySelector("h3"))===null||r===void 0?void 0:r.querySelector("a"))||n.querySelector("h2 a, h3 a")||null),u}function n(n,t,i){n.addEventListener("mouseover",function(){t.style.textDecoration="underline";n.style.cursor="pointer"});n.addEventListener("mouseout",function(){t.style.textDecoration="";n.style.cursor=""});n.addEventListener("click",function(n){var u,r=n.target,f=((u=window.getSelection())===null||u===void 0?void 0:u.toString().length)===0,e=i?r&&r.classList&&!r.classList.contains("inner")&&r.tagName!=="H2"&&r.tagName!=="IMG"&&f:f;e&&(_w.si_T&&_w.si_T(t.getAttribute("h")),t.click(),_w.sj_log&&sj_log("CI.CaptionClickable",i?"ALL":"Default","Click"))})}function t(t,i){var o,s,f;if(t.children.length!=0){var h=t===null||t===void 0?void 0:t.querySelector("p"),l=i||t.children.length==1,e=l?t:h&&r(h.classList)?h:null,c=u(t);e&&((o=e.parentElement)===null||o===void 0?void 0:o.tagName)!=="A"&&c&&(n(e,c,l),i&&(f=e.nextElementSibling,((s=f===null||f===void 0?void 0:f.classList)===null||s===void 0?void 0:s.contains("b_caption"))&&n(f,c,!0)))}}i()})(CaptionClickable||(CaptionClickable={}))